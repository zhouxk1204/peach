<div>
  <h3 mat-dialog-title>{{ data ? "更新" : "添加" }}节假日</h3>
  <div mat-dialog-content>
    <form class="flex flex-col" [formGroup]="formGroup">
      <!-- 节假日 -->
      <mat-form-field appearance="fill" class="my-4 w-[350px]">
        <mat-label>节假日</mat-label>
        <mat-select required formControlName="holiday">
          <mat-option [value]="holiday.id" *ngFor="let holiday of holidays">{{
            holiday.label
          }}</mat-option>
        </mat-select>
        <mat-error *ngIf="formGroup.get('holiday')!.hasError('required')"
          >请选择节假日！</mat-error
        >
      </mat-form-field>

      <!-- 日期 -->
      <mat-form-field appearance="fill">
        <mat-label>日期</mat-label>
        <input matInput [matDatepicker]="picker" formControlName="date" />
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        <mat-error *ngIf="formGroup.get('date')!.hasError('required')"
          >请选择节假日日期！</mat-error
        >
      </mat-form-field>

      <!-- 节假日 -->
      <mat-form-field appearance="fill" class="my-4 w-[350px]">
        <mat-label>放假/补班</mat-label>
        <mat-select required formControlName="type">
          <mat-option [value]="type.id" *ngFor="let type of types">{{
            type.label
          }}</mat-option>
        </mat-select>
        <mat-error *ngIf="formGroup.get('type')!.hasError('required')"
          >请选择节假日类型！</mat-error
        >
      </mat-form-field>

      <!-- 上班权重 -->
      <mat-form-field appearance="fill" class="my-4 w-[350px]">
        <mat-label>上班权重</mat-label>
        <input
          matInput
          type="number"
          step="0.5"
          placeholder="1"
          formControlName="workWeight"
          max="2"
          min="1"
        />
        <mat-error *ngIf="formGroup.get('workWeight')!.hasError('required')"
          >请输入上班工分权重</mat-error
        >
      </mat-form-field>

      <!-- 加班权重 -->
      <mat-form-field
        appearance="fill"
        class="my-4 w-[350px]"
        class="my-4 w-[350px]"
      >
        <mat-label>加班权重</mat-label>
        <input
          matInput
          type="number"
          step="0.5"
          placeholder="1.5"
          formControlName="extraWeight"
          max="4"
          min="1.5"
        />
        <mat-error *ngIf="formGroup.get('extraWeight')!.hasError('required')"
          >请输入加班工分权重</mat-error
        >
      </mat-form-field>

      <div class="flex">
        <button
          mat-raised-button
          color="primary"
          type="submit"
          class="flex-1"
          (click)="onSubmit()"
        >
          {{ data ? "更新" : "添加" }}
        </button>
        <div class="w-[10px]">&nbsp;</div>
        <button
          mat-raised-button
          color="warn"
          type="button"
          class="flex-1"
          [mat-dialog-close]="0"
        >
          取消
        </button>
      </div>
    </form>
  </div>
</div>
